import React, { useState, useEffect } from 'react';

import { withRouter } from 'react-router';
import {
  faChartArea,
  faFire,
  faPlay,
  faFireAlt,
  faBars,
  faTimes,
} from '@fortawesome/free-solid-svg-icons';
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';
import { faHeart } from '@fortawesome/free-regular-svg-icons';

import {
  MobileNav,
  MobileNavContainer,
  MobileNavLogo,
  MobileNavMenu,
  MenuToggler,
  StyledSidebar,
  NavbarWrapper,
  NavbarLogo,
  NavbarMenu,
  NavbarHeading,
  NavbarItem,
  NavbarLink,
  MobileNavOverlay,
  SidebarToggler,
} from './style';

const Sidebar = ({ opened }) => {
  const [isOpened, setIsOpened] = useState(false); // Opened state

  useEffect(() => {
    // No scroll when the sidebar is opened
    if (isOpened) {
      document.body.style.overflow = 'hidden';
    } else {
      document.body.style.overflow = 'visible';
    }
  }, [isOpened]);

  return (
    <React.Fragment>
      <MobileNav>
        <MobileNavContainer>
          <MobileNavOverlay
            onClick={() => setIsOpened(false)}
            isOpened={isOpened}
          />
          <MobileNavLogo>
            <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 600 121.95'>
              <title>MoviesQi Logo</title>
              <g id='Layer_2' data-name='Layer 2'>
                <g id='Layer_1-2' data-name='Layer 1'>
                  <path
                    class='cls-1'
                    d='M82,101.24l-.13-54L55.32,91.72H45.93L19.55,48.37v52.87H0v-90H17.24l33.7,56,33.19-56h17.11l.26,90.05Z'
                  />
                  <path
                    class='cls-1'
                    d='M134.75,97.71A34.06,34.06,0,0,1,121.18,85a34.94,34.94,0,0,1-4.89-18.4,34.94,34.94,0,0,1,4.89-18.4,34.06,34.06,0,0,1,13.57-12.67,44.27,44.27,0,0,1,39.18,0,34.16,34.16,0,0,1,13.51,12.67,35,35,0,0,1,4.88,18.4A35,35,0,0,1,187.44,85a34.16,34.16,0,0,1-13.51,12.67,44.36,44.36,0,0,1-39.18,0Zm32.3-17.11q4.95-5.22,4.95-14t-4.95-14a16.75,16.75,0,0,0-12.68-5.21,16.92,16.92,0,0,0-12.73,5.21q-5,5.2-5,14t5,14a16.92,16.92,0,0,0,12.73,5.21A16.75,16.75,0,0,0,167.05,80.6Z'
                  />
                  <path
                    class='cls-1'
                    d='M272.47,32l-29.2,69.21H222.56L193.48,32h20.71l19.17,47.09L253.17,32Z'
                  />
                  <path
                    class='cls-1'
                    d='M281.73,19.17a10.44,10.44,0,0,1-3.47-8,10.43,10.43,0,0,1,3.47-8,12.72,12.72,0,0,1,9-3.22,13,13,0,0,1,9,3.09,9.89,9.89,0,0,1,3.48,7.72,10.89,10.89,0,0,1-3.48,8.29,12.56,12.56,0,0,1-9,3.28A12.76,12.76,0,0,1,281.73,19.17ZM280.7,32h20.07v69.21H280.7Z'
                  />
                  <path
                    class='cls-1'
                    d='M386.84,72.3H334.48a16.25,16.25,0,0,0,6.69,10.16q5.26,3.74,13.12,3.73a26.39,26.39,0,0,0,9.58-1.61,23.2,23.2,0,0,0,7.79-5.08l10.67,11.58q-9.78,11.19-28.56,11.19a45.23,45.23,0,0,1-20.71-4.56A33.55,33.55,0,0,1,319.17,85a34.94,34.94,0,0,1-4.89-18.4,35.39,35.39,0,0,1,4.82-18.33,33.89,33.89,0,0,1,13.25-12.74,41,41,0,0,1,37.25-.19,32,32,0,0,1,12.93,12.54,37.42,37.42,0,0,1,4.69,19C387.22,67.15,387.09,69,386.84,72.3ZM339.88,50a16.41,16.41,0,0,0-5.66,10.55h34.09a16.61,16.61,0,0,0-5.66-10.48,16.9,16.9,0,0,0-11.32-3.93A17.3,17.3,0,0,0,339.88,50Z'
                  />
                  <path
                    class='cls-1'
                    d='M407,100.15a43.73,43.73,0,0,1-13.12-5.34L400.6,80.4a41.83,41.83,0,0,0,11.19,4.83,47.06,47.06,0,0,0,12.87,1.86q12.73,0,12.73-6.3c0-2-1.15-3.39-3.47-4.25a52,52,0,0,0-10.68-2.18,104.15,104.15,0,0,1-14-3,21.68,21.68,0,0,1-9.58-5.92q-4.06-4.25-4.06-12.09a18.91,18.91,0,0,1,3.8-11.64,24.46,24.46,0,0,1,11.06-7.92A47.42,47.42,0,0,1,427.62,31a67.61,67.61,0,0,1,14.6,1.61,41.09,41.09,0,0,1,12,4.44l-6.69,14.28a40,40,0,0,0-19.94-5.15c-4.29,0-7.51.61-9.65,1.8s-3.22,2.75-3.22,4.64q0,3.21,3.48,4.5a61,61,0,0,0,11.06,2.44,119.88,119.88,0,0,1,13.89,3,20.86,20.86,0,0,1,9.39,5.85q4,4.25,4,11.84a18.22,18.22,0,0,1-3.86,11.44,24.62,24.62,0,0,1-11.25,7.79,50.3,50.3,0,0,1-17.56,2.76A67,67,0,0,1,407,100.15Z'
                  />
                  <path
                    class='cls-2'
                    d='M558.45,99.83q-6.32,6.69-14.67,6.68a14.66,14.66,0,0,1-6.49-1.47,21.57,21.57,0,0,1-5.6-4.18,48,48,0,0,0,11.49-82.74l-.06,0q-1.9-1.27-4-2.39a55.78,55.78,0,0,0-50.49,0c-1.24.67-2.43,1.38-3.58,2.14a48,48,0,0,0,23.11,86.07q9.54,9.75,17.07,13.75A38,38,0,0,0,543.4,122a32.89,32.89,0,0,0,13.7-2.82,28.86,28.86,0,0,0,10.61-8.23Zm-58.14-20.1a4.8,4.8,0,0,1-6.45-2.13,4.65,4.65,0,0,1-.5-2.18V37a4.79,4.79,0,0,1,4.8-4.79,4.74,4.74,0,0,1,2.15.49l38.42,19.21a4.8,4.8,0,0,1,0,8.59v0Z'
                  />
                  <path
                    class='cls-1'
                    d='M578.52,19.17a10.41,10.41,0,0,1-3.48-8,10.41,10.41,0,0,1,3.48-8,12.68,12.68,0,0,1,9-3.22,13.06,13.06,0,0,1,9,3.09A9.92,9.92,0,0,1,600,10.81a10.92,10.92,0,0,1-3.47,8.29,12.58,12.58,0,0,1-9,3.28A12.72,12.72,0,0,1,578.52,19.17Zm-1,12.86h20.07v69.21H577.49Z'
                  />
                </g>
              </g>
            </svg>
          </MobileNavLogo>
          <MobileNavMenu>
            <MenuToggler onClick={() => setIsOpened(true)}>
              <FontAwesomeIcon icon={faBars} />
            </MenuToggler>
          </MobileNavMenu>
        </MobileNavContainer>
      </MobileNav>
      <StyledSidebar isOpened={isOpened}>
        <SidebarToggler onClick={() => setIsOpened(false)}>
          <FontAwesomeIcon icon={faTimes} />
        </SidebarToggler>
        <NavbarWrapper>
          <NavbarLogo>
            <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 600 121.95'>
              <title>MoviesQi Logo</title>
              <g id='Layer_2' data-name='Layer 2'>
                <g id='Layer_1-2' data-name='Layer 1'>
                  <path
                    class='cls-1'
                    d='M82,101.24l-.13-54L55.32,91.72H45.93L19.55,48.37v52.87H0v-90H17.24l33.7,56,33.19-56h17.11l.26,90.05Z'
                  />
                  <path
                    class='cls-1'
                    d='M134.75,97.71A34.06,34.06,0,0,1,121.18,85a34.94,34.94,0,0,1-4.89-18.4,34.94,34.94,0,0,1,4.89-18.4,34.06,34.06,0,0,1,13.57-12.67,44.27,44.27,0,0,1,39.18,0,34.16,34.16,0,0,1,13.51,12.67,35,35,0,0,1,4.88,18.4A35,35,0,0,1,187.44,85a34.16,34.16,0,0,1-13.51,12.67,44.36,44.36,0,0,1-39.18,0Zm32.3-17.11q4.95-5.22,4.95-14t-4.95-14a16.75,16.75,0,0,0-12.68-5.21,16.92,16.92,0,0,0-12.73,5.21q-5,5.2-5,14t5,14a16.92,16.92,0,0,0,12.73,5.21A16.75,16.75,0,0,0,167.05,80.6Z'
                  />
                  <path
                    class='cls-1'
                    d='M272.47,32l-29.2,69.21H222.56L193.48,32h20.71l19.17,47.09L253.17,32Z'
                  />
                  <path
                    class='cls-1'
                    d='M281.73,19.17a10.44,10.44,0,0,1-3.47-8,10.43,10.43,0,0,1,3.47-8,12.72,12.72,0,0,1,9-3.22,13,13,0,0,1,9,3.09,9.89,9.89,0,0,1,3.48,7.72,10.89,10.89,0,0,1-3.48,8.29,12.56,12.56,0,0,1-9,3.28A12.76,12.76,0,0,1,281.73,19.17ZM280.7,32h20.07v69.21H280.7Z'
                  />
                  <path
                    class='cls-1'
                    d='M386.84,72.3H334.48a16.25,16.25,0,0,0,6.69,10.16q5.26,3.74,13.12,3.73a26.39,26.39,0,0,0,9.58-1.61,23.2,23.2,0,0,0,7.79-5.08l10.67,11.58q-9.78,11.19-28.56,11.19a45.23,45.23,0,0,1-20.71-4.56A33.55,33.55,0,0,1,319.17,85a34.94,34.94,0,0,1-4.89-18.4,35.39,35.39,0,0,1,4.82-18.33,33.89,33.89,0,0,1,13.25-12.74,41,41,0,0,1,37.25-.19,32,32,0,0,1,12.93,12.54,37.42,37.42,0,0,1,4.69,19C387.22,67.15,387.09,69,386.84,72.3ZM339.88,50a16.41,16.41,0,0,0-5.66,10.55h34.09a16.61,16.61,0,0,0-5.66-10.48,16.9,16.9,0,0,0-11.32-3.93A17.3,17.3,0,0,0,339.88,50Z'
                  />
                  <path
                    class='cls-1'
                    d='M407,100.15a43.73,43.73,0,0,1-13.12-5.34L400.6,80.4a41.83,41.83,0,0,0,11.19,4.83,47.06,47.06,0,0,0,12.87,1.86q12.73,0,12.73-6.3c0-2-1.15-3.39-3.47-4.25a52,52,0,0,0-10.68-2.18,104.15,104.15,0,0,1-14-3,21.68,21.68,0,0,1-9.58-5.92q-4.06-4.25-4.06-12.09a18.91,18.91,0,0,1,3.8-11.64,24.46,24.46,0,0,1,11.06-7.92A47.42,47.42,0,0,1,427.62,31a67.61,67.61,0,0,1,14.6,1.61,41.09,41.09,0,0,1,12,4.44l-6.69,14.28a40,40,0,0,0-19.94-5.15c-4.29,0-7.51.61-9.65,1.8s-3.22,2.75-3.22,4.64q0,3.21,3.48,4.5a61,61,0,0,0,11.06,2.44,119.88,119.88,0,0,1,13.89,3,20.86,20.86,0,0,1,9.39,5.85q4,4.25,4,11.84a18.22,18.22,0,0,1-3.86,11.44,24.62,24.62,0,0,1-11.25,7.79,50.3,50.3,0,0,1-17.56,2.76A67,67,0,0,1,407,100.15Z'
                  />
                  <path
                    class='cls-2'
                    d='M558.45,99.83q-6.32,6.69-14.67,6.68a14.66,14.66,0,0,1-6.49-1.47,21.57,21.57,0,0,1-5.6-4.18,48,48,0,0,0,11.49-82.74l-.06,0q-1.9-1.27-4-2.39a55.78,55.78,0,0,0-50.49,0c-1.24.67-2.43,1.38-3.58,2.14a48,48,0,0,0,23.11,86.07q9.54,9.75,17.07,13.75A38,38,0,0,0,543.4,122a32.89,32.89,0,0,0,13.7-2.82,28.86,28.86,0,0,0,10.61-8.23Zm-58.14-20.1a4.8,4.8,0,0,1-6.45-2.13,4.65,4.65,0,0,1-.5-2.18V37a4.79,4.79,0,0,1,4.8-4.79,4.74,4.74,0,0,1,2.15.49l38.42,19.21a4.8,4.8,0,0,1,0,8.59v0Z'
                  />
                  <path
                    class='cls-1'
                    d='M578.52,19.17a10.41,10.41,0,0,1-3.48-8,10.41,10.41,0,0,1,3.48-8,12.68,12.68,0,0,1,9-3.22,13.06,13.06,0,0,1,9,3.09A9.92,9.92,0,0,1,600,10.81a10.92,10.92,0,0,1-3.47,8.29,12.58,12.58,0,0,1-9,3.28A12.72,12.72,0,0,1,578.52,19.17Zm-1,12.86h20.07v69.21H577.49Z'
                  />
                </g>
              </g>
            </svg>
          </NavbarLogo>
          <NavbarMenu>
            <NavbarHeading>Movies</NavbarHeading>
            <NavbarItem>
              <NavbarLink
                to='/discover/movie/Popular'
                onClick={() => {
                  setIsOpened(false);
                }}
                activeStyle={{
                  background: 'var(--primary-color)',
                  color: 'var(--white-color)',
                }}
              >
                <FontAwesomeIcon icon={faHeart} />
                Popular
              </NavbarLink>
            </NavbarItem>
            <NavbarItem>
              <NavbarLink
                to='/discover/movie/Top_Rated'
                onClick={() => {
                  setIsOpened(false);
                }}
                activeStyle={{
                  background: 'var(--primary-color)',
                  color: 'var(--white-color)',
                }}
              >
                <FontAwesomeIcon icon={faChartArea} />
                Top Rated
              </NavbarLink>
            </NavbarItem>
            <NavbarItem>
              <NavbarLink
                to='/discover/movie/Upcoming'
                onClick={() => {
                  setIsOpened(false);
                }}
                activeStyle={{
                  background: 'var(--primary-color)',
                  color: 'var(--white-color)',
                }}
              >
                <FontAwesomeIcon icon={faFireAlt} />
                Upcoming
              </NavbarLink>
            </NavbarItem>
            <NavbarItem>
              <NavbarLink
                to='/discover/movie/Now_Playing'
                onClick={() => {
                  setIsOpened(false);
                }}
                activeStyle={{
                  background: 'var(--primary-color)',
                  color: 'var(--white-color)',
                }}
              >
                <FontAwesomeIcon icon={faPlay} />
                Now Playing
              </NavbarLink>
            </NavbarItem>
            <NavbarHeading>Actors</NavbarHeading>
            <NavbarItem>
              <NavbarLink
                to='/discover/person/Popular'
                onClick={() => {
                  setIsOpened(false);
                }}
                activeStyle={{
                  background: 'var(--primary-color)',
                  color: 'var(--white-color)',
                }}
              >
                <FontAwesomeIcon icon={faFire} />
                Popular
              </NavbarLink>
            </NavbarItem>
          </NavbarMenu>
        </NavbarWrapper>
      </StyledSidebar>
    </React.Fragment>
  );
};

export default withRouter(Sidebar);
